{#
 * @copyright 2024 City of Bloomington, Indiana
 * @license http://www.gnu.org/licenses/agpl.txt GNU/AGPL, see LICENSE
 * @param Committee committee
 * @param array     committee_types   Options for committee_type
 * @param array     departments       Options for departments
 #}
{% extends "html/layouts/default.twig" %}
{% import  "html/macros/forms.twig" as forms %}
{% block content %}
<div class="grid-container">
    <div class="grid-row grid-gap">
        {{ include('html/committees/partials/side-nav.twig') }}
        <section class="desktop:grid-col-9">
            {{ include('html/committees/partials/header.twig') }}
            <h2>{{ committee.getId() ? _('committee_edit') : _('committee_add') }}</h2>
             <form class="usa-form usa-form--large" method="post">
                <fieldset class="usa-fieldset">
                    <legend class="usa-legend usa-legend--large">{{ _('type') }}</legend>
                    {% for t in committee_types %}
                    <div class="usa-radio">
                            <input
                                class="usa-radio__input"
                                id="{{ t }}"
                                type="radio"
                                name="{{ _('type') }}"
                                value="{{ _(t) }}"
                                {{ committee.getType()==t ? 'checked="checked"' : '' }}
                            />
                            <label class="usa-radio__label" for="{{ t }}">
                                {{ _(t) }}
                            </label>
                    </div>
                    {% endfor %}
                </fieldset>

                <fieldset class="usa-fieldset">
                    <legend class="usa-legend usa-legend--large">{{ _('committee_info') }}</legend>
                    <div>
                        <label for="name" class="form-label">{{ _('name') }}</label>
                        <input name="name" id="name" value="{{ committee.getName() }}" required="true"
                            class="form-control" />
                    </div>

                    <div class="form-check form-switch">
                        <input name="legislative" id="legislative"
                            type="checkbox" value="1" {{ committee.getLegislative() ? 'checked="true"': '' }}
                            class="form-check-input"  role="switch" />
                        <label for="legislative" class="form-check-label">{{ _('legislative') }}</label>
                    </div>

                    <div class="form-check form-switch">
                        <input name="alternates" id="alternates"
                            type="checkbox" value="1" {{ committee.getAlternates() ? 'checked="true"': '' }}
                            class="form-check-input"  role="switch" />
                        <label for="legislative" class="form-check-label">{{ _('alternates') }}</label>
                    </div>


                    <div>
                        <label for="yearFormed" class="form-label">{{ _('yearFormed') }}</label>
                        <input name="yearFormed" id="yearFormed" value="{{ committee.getYearFormed() }}"
                            type="number" class="form-control" size="4" />
                    </div>

                    <div>
                        <label for="statutoryName" class="form-label">{{ _('statutoryName') }}</label>
                        <input name="statutoryName" id="statutoryName" value="{{ committee.getStatutoryName() }}" class="form-control" />
                    </div>

                    <div>
                        <label for="code" class="form-label">{{ _('code') }}</label>
                        <input name="code" id="code" value="{{ committee.getCode() }}"
                            class="form-control" size="5" />
                    </div>

                    <div>
                        <label for="calendarId" class="form-label">{{ _('calendarId') }}</label>
                        <input name="calendarId" id="calendarId" value="{{ committee.getCalendarId() }}"
                            type="email" class="form-control" />
                    </div>

                    <div>
                        <label for="website" class="form-label">{{ _('website') }}</label>
                        <input name="website" id="website" value="{{ committee.getWebsite() }}"
                            type="url" class="form-control" />
                    </div>

                    <div>
                        <label for="videoArchive" class="form-label">{{ _('videoArchive') }}</label>
                        <input name="videoArchive" id="videoArchive" value="{{ committee.getVideoArchive() }}"
                            type="url" class="form-control" />
                    </div>

                    <div>
                        <label for="termEndWarningDays" class="form-label">{{ _('termEndWarningDays') }}</label>
                        <input name="termEndWarningDays" id="termEndWarningDays" value="{{ committee.getTermEndWarningDays() }}"
                            type="number" class="form-control" size="4" />
                    </div>

                    <div>
                        <label for="applicationLifetime" class="form-label">{{ _('applicationLifetime') }}</label>
                        <input name="applicationLifetime" id="applicationLifetime" value="{{ committee.getApplicationLifetime() }}"
                            type="number" class="form-control" size="4" />
                    </div>
                </fieldset>

                <fieldset><legend>{{ _(['department', 'departments', 2]) }}</legend>
                    <div>
                        <label for="departments" class="form-label">{{ _(['department', 'departments', 2]) }}</label>
                        <select name="departments[]" id="departments" multiple="true" size="8" class="form-select">
                                <option value=""></option>
                                {% for d in departments %}
                                <option value="{{ d.getId() }}" {{ committee.hasDepartment(d) ? 'selected="true"' : '' }}>{{ d.getName() }}</option>
                                {% endfor %}
                            </select>
                        </dd>
                    </dl>
                </fieldset>

                <fieldset><legend>{{ _('contactInfo') }}</legend>
                    <div>
                        <label for="address" class="form-label">{{ _('address') }}</label>
                        <textarea name="address" id="address" class="form-control">{{ committee.getAddress() }}</textarea>
                    </div>

                    <div>
                        <label for="city" class="form-label">{{ _('city') }}</label>
                        <input name="city" id="city" value="{{ committee.getCity() }}" class="form-control" />
                    </div>

                    <div>
                        <label for="state" class="form-label">{{ _('state') }}</label>
                        <select name="state" id="state" class="form-select">
                            <option>IN</option>
                        </select>
                    </div>

                    <div>
                        <label for="zip" class="form-label">{{ _('zip') }}</label>
                        <input name="zip" id="zip" value="{{ committee.getZip() }}" class="form-control" size="5" />
                    </div>

                    <div>
                        <label for="email" class="form-label">{{ _('email') }}</label>
                        <input name="email" id="email" value="{{ committee.getEmail() }}"
                            type="email" class="form-control" />
                    </div>

                    <div>
                        <label for="phone" class="form-label">{{ _('phone') }}</label>
                        <input name="phone" id="phone" value="{{ committee.getPhone() }}"
                            type="tel" class="form-control" />
                    </div>
                </fieldset>

                <fieldset><legend>{{ _('description') }}</legend>
                    <textarea name="description" id="description" class="form-control">{{ committee.getDescription() }}</textarea>
                </fieldset>

                <fieldset><legend>{{ _('meetingSchedule') }}</legend>
                    <textarea name="meetingSchedule" id="meetingSchedule" class="form-control">{{ committee.getMeetingSchedule() }}</textarea>
                </fieldset>

                <fieldset><legend>{{ _('submit') }}</legend>
                    {{ forms.button('submit', _('save'), 'save') }}
                    {% if committee.getId() %}
                    {{ forms.actionLink(uri('committees.info', {id: committee.getId()}), _('cancel'), 'cancel'  ) }}
                    {% else %}
                    {{ forms.actionLink(uri('committees.index'), _('cancel'), 'cancel') }}
                    {% endif %}
                </fieldset>
            </form>
        </section>
    </div>
</div>
{% endblock %}
