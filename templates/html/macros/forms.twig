{% macro actionLink(url, label, class) %}
{% set classmap={
 'add':    'btn-success',
 'edit':   'btn-secondary',
 'delete': 'btn-danger',
 'cancel': 'btn-danger'
} %}
<a href="{{ url }}" class="btn btn-sm {{ class and classmap[class] is defined ? classmap[class] : 'btn-secondary' }} align-self-center me-3">{{ label }}</a>
{% endmacro %}

{% macro button(type, label, class) %}
{% set classmap={
 'search': 'btn-primary',
 'save':   'btn-success'
} %}
<button type="{{ type }}" class="btn {{ class and classmap[class] is defined ? classmap[class] : 'btn-secondary' }}">{{ label }}</button>

{% endmacro %}

{% macro field_text(id, name, label, value, required=false, attr={}, help=null) %}
<div class="mb-3">
    <label for="{{ id }}" class="form-label">{{ label }}</label>
    <input  id="{{ id }}" name="{{ name }}"  value="{{ value }}" class="form-control"
        {{- required ? ' required="true"' : '' }}
        {%- if help %} aria-describedby="{{ id  }}-help"{% endif %}
        {%- for k,v in attr %} {{ k }}="{{ v }}" {% endfor %} />
    {% if help %}<span class="form-text" id="{{ id }}-help">{{ help }}</span>{% endif %}
</div>
{% endmacro %}

{% macro field_select(id, name, label, value, options, required=false, attr={}, help=null) %}
<div class="mb-3">
    <label for="{{ id }}">{{ label }}</label>
    <select id="{{ id }}" name="{{ name }}" class="form-control"
        {{- required ? ' required="true"' : '' }}
        {%- if help %} aria-describedby="{{ id  }}-help"{% endif %}
        {%- for k,v in attr %} {{ k }}="{{ v }}" {% endfor %}>
    {% for o in options %}
    <option value="{{ o.value }}" {{ o.value==value ? 'selected="true"' : '' }}>{{ o.label ?? o.value }}</option>
    {% endfor %}
    </select>
    {% if help %}<span class="form-text" id="{{ id }}-help">{{ help }}</span>{% endif %}
</div>
{% endmacro %}

{% macro field_password(id, name, label, value, required=false, attr={}, help=null) %}
<div class="mb-3">
    <label for="{{ id }}">{{ label }}</label>
    <input  id="{{ id }}" name="{{ name }}"  value="{{ value }}" type="password" class="form-control"
        {{- required ? ' required="true"' : '' }}
        {%- if help %} aria-describedby="{{ id  }}-help"{% endif %}
        {%- for k,v in attr %} {{ k }}="{{ v }}" {% endfor %} />
    {% if help %}<span class="form-text" id="{{ id }}-help">{{ help }}</span>{% endif %}
</div>
{% endmacro %}

{% macro field_email(id, name, label, value, required=false, attr={}, help=null) %}
<div class="mb-3">
    <label for="{{ id }}">{{ label }}</label>
    <input  id="{{ id }}" name="{{ name }}"  value="{{ value }}" type="email" class="form-control"
        {{- required ? ' required="true"' : '' }}
        {%- if help %} aria-describedby="{{ id  }}-help"{% endif %}
        {%- for k,v in attr %} {{ k }}="{{ v }}" {% endfor %} />
    {% if help %}<span class="form-text" id="{{ id }}-help">{{ help }}</span>{% endif %}
</div>
{% endmacro %}

{% macro field_date(id, name, label, value, required=false, attr={}, help=null) %}
<div class="mb-3">
    <label for="{{ id }}">{{ label }}</label>
    <input  id="{{ id }}" name="{{ name }}"  value="{{ value }}" type="date" class="form-control"
        {{- required ? ' required="true"' : '' }}
        {%- if help %} aria-describedby="{{ id  }}-help"{% endif %}
        {%- for k,v in attr %} {{ k }}="{{ v }}" {% endfor %} />
    {% if help %}<span class="form-text" id="{{ id }}-help">{{ help }}</span>{% endif %}
</div>
{% endmacro %}

{% macro field_textarea(id, name, label, value, required=false, attr={}, help=null) %}
<div class="mb-3">
    <label   for="{{ id }}">{{ label }}</label>
    <textarea id="{{ id }}" name="{{ name }}" class="form-control"
        {{- required ? ' required="true"' : '' }}
        {%- if help %} aria-describedby="{{ id  }}-help"{% endif %}
        {%- for k,v in attr %} {{ k }}="{{ v }}" {% endfor %}>{{ value }}</textarea>
    {% if help %}<span class="form-text" id="{{ id }}-help">{{ help }}</span>{% endif %}
</div>
{% endmacro %}

{% macro field_file(id, name, label, value, required=false, attr={}, help=null) %}
<div class="mb-3">
    <label for="{{ id }}">{{ label }}</label>
    {% if value %}<div>{{ value }}</div>{% endif %}
    <input  id="{{ id }}" name="{{ name }}" type="file" class="form-control"
        {{- required ? ' required="true"' : '' }}
        {%- if help %} aria-describedby="{{ id  }}-help"{% endif %}
        {%- for k,v in attr %} {{ k }}="{{ v }}" {% endfor %} />
    {% if help %}<span class="form-text" id="{{ id }}-help">{{ help }}</span>{% endif %}
</div>
{% endmacro %}

{% macro field_number(id, name, label, value, required=false, attr={}, help=null) %}
<div class="mb-3">
    <label for="{{ id }}" class="form-label">{{ label }}</label>
    <input  id="{{ id }}" name="{{ name }}"  value="{{ value }}" type="number" class="form-control"
        {{- required ? ' required="true"' : '' }}
        {%- if help %} aria-describedby="{{ id  }}-help"{% endif %}
        {%- for k,v in attr %} {{ k }}="{{ v }}" {% endfor %} />
    {% if help %}<span class="form-text" id="{{ id }}-help">{{ help }}</span>{% endif %}
</div>
{% endmacro %}

{% macro field_bool(id, name, label, value, required=false, attr={}, help=null) %}
<div class="form-check form-switch">
    <input name="{{ name }}" id="{{ id }}"
            type="checkbox" value="1" {{ value ? 'checked="true"': '' }}
            class="form-check-input"  role="switch" />
    <label for="{{ id }}" class="form-check-label">{{ label }}</label>
</div>
{% endmacro %}
